== lab 002 Vault simple operation


Secrets engines in Vault are components which store, generate, or encrypt data.

The kv secrets engine is used to store arbitrary secrets within the
configured physical storage for Vault. +
Key names must always be strings.



Let set kv engine version2.


* change to labs/common-env directory
and set environment (if not already done):

----

source set_env.sh

----

* Login to vault using command:

----
# use your root token from lab001 !!!
export ROOT_TOKEN=s.eMMrd20wonymLirGUqmHKncS

vault login --method=token $ROOT_TOKEN

----

you should see similar message:

----
Success! You are now authenticated. The token information displayed below
is already stored in the token helper. You do NOT need to run "vault login"
again. Future Vault requests will automatically use this token.

Key                  Value
---                  -----
token                s.eMMrd20wonymLirGUqmHKncS
token_accessor       oC5HK0EXzC6cz8RitqfHDpDP
token_duration       âˆž
token_renewable      false
token_policies       ["root"]
identity_policies    []
policies             ["root"]
----


* Now we can do simple kv secret manipulation:

----
  export VAULT_TOKEN=$ROOT_TOKEN

  vault secrets enable -version=2 kv

  vault kv put kv/my-secret my-value=s3cr3t




----


* List keys values


----



    vault kv list   kv/

    ====== Metadata ======
    Key              Value
    ---              -----
    created_time     2020-02-27T13:31:30.913107411Z
    deletion_time    n/a
    destroyed        false
    version          1

    ====== Data ======
    Key         Value
    ---         -----
    my-value    s3cr3t

----

configuration you have successfully set kv secret engine.



More info about kv secrets engine you can found
in vault documentation:

:linkattrs:

https://www.vaultproject.io/docs/secrets/kv/kv-v2[KV Secrets Engine - Version 2,  window="_blank"]



=== Token authentication and policies
